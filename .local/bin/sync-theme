#!/bin/bash
# Sync theme across all components (tmux, zsh/starship, ghostty, nvim)

set -e

SCRIPT_DIR="$(cd "$(dirname "$(readlink -f "${BASH_SOURCE[0]}")")" && pwd)"

echo "Syncing system theme across components..."

# Reload tmux config
if [ -n "$TMUX" ]; then
  echo "Reloading Tmux config..."
  tmux source-file ~/.config/tmux/tmux.conf
  tmux display-message "Theme synced!"
else
  echo "Not in a tmux session (skipping tmux reload)"
fi

# Reload zsh to pick up new starship config
if [ -n "$ZSH_VERSION" ]; then
  echo "Reloading Zsh..."
  source ~/.zshrc
fi

echo "Theme sync complete!"
echo "Nvim and Ghostty will auto-detect on next load"
